{{!< centercolumn}}
{{> error-snippet}}

<div class="offset-md-4 col-md-8 c-address-page">
  <div class="card">
    <div class="flex-row justify-content-between">
      <h1 class="heading-u-red">My Addresses</h1>
        <div class="button-solid align-self-start">
          <a class="white" href="/address/add">
            <button>+ Add New Address</button>
          </a>
        </div>
      </div>
      <a href="/address/add" class="button-solid button-orange lg">Add Address</a>
    </div>

    {{> error-snippet}}

    <div class="row mt-5 justify-content-lg-start justify-content-center">
      {{#each addresses as |address index|}}
        <div class="col-lg-6 col-md-8 col-12 mb-5">
          <div class="border-card p-xl-5 p-4 position-relative">
            <h6 class="bold card-tag orange pr-2">
              {{address.label}}
            </h6>
            <h5 class="bold mb-3">{{address.first_name}} {{address.last_name}}</h5>
            <div>
              <i class="far fa-envelope fa-lg"></i>
              <span class="pl-3">{{address.email}}</span>
            </div>
            <div class="mt-3">
              <i class="fas fa-phone fa-lg"></i>
              <span class="pl-3">{{address.mobile_number}}</span>
            </div>
            <div class="my-4 grey">
              {{address.street_address}} Near {{address.landmark}}, {{address.city}}<br> {{address.state.name}}: {{address.pincode}}
              <br>{{address.country.name}}
            </div>
            <div class="semi-bold">
              <a href="/address/{{address.id}}/edit" class="orange">Edit Address</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(function() {
    $(".removeAddress").click(function(event) {
      swal({
        title: "Delete Address",
        text: "Are you sure you want to this address?",
        buttons: true,
        dangerMode: true,
      })
      .then((willDelete) => {
        if (willDelete) {
          window.location.href = `/address/${event.target.id}/delete`;
        }
      });
    })
  })
</script>